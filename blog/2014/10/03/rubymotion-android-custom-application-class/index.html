
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>RubyMotion for Android でカスタム Appliation クラスを利用する - 白山軟件有限公司</title>
  <meta name="author" content="Fumihiko Shiroyama">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content="RubyMotion のバージョンが 3.1 になり、Android 版でカスタム Application クラスが利用できるようになった。 実を言うとこれまでは独自定義の Android クラスを利用することが出来なかったのだが、その旨 RubyMotion のサポートで質問したところ、作者の &hellip;">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.shiroyama.us/blog/2014/10/03/rubymotion-android-custom-application-class/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="白山軟件有限公司" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="白山軟件有限公司" />
  <meta name="og:title" content="RubyMotion for Android でカスタム Appliation クラスを利用する" />
  <meta name="og:description" content="RubyMotion のバージョンが 3.1 になり、Android 版でカスタム Application クラスが利用できるようになった。 実を言うとこれまでは独自定義の Android クラスを利用することが出来なかったのだが、その旨 RubyMotion のサポートで質問したところ、作者の &hellip;" />
  <meta name="og:url" content="http://blog.shiroyama.us/blog/2014/10/03/rubymotion-android-custom-application-class/"/>
  <meta name="url" content="http://blog.shiroyama.us/blog/2014/10/03/rubymotion-android-custom-application-class/">
  
  <meta name="subject" content="AndroidRubyMotion"/>
  <meta name="category" content="AndroidRubyMotion"/>
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-22050152-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="/">白山軟件有限公司</a>
    <ul class="nav">
      <li><a href="/">Home</a></li>
      <li><a href="/blog/archives">Archives</a></li>
    </ul>
    <ul class="nav" data-subscription="rss">
      <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
      
    </ul>
      
    <form class="navbar-form" action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:blog.shiroyama.us" />
        <input class="span2" type="text" name="q" results="0" placeholder="Search"/>
      </fieldset>
    </form>
      
    
  </div>
</div>
</nav>
  <div class="wrapper_single">
    <div class="container">
      <article class="span8 offset2" role="article">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title">RubyMotion for Android でカスタム Appliation クラスを利用する</h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+FumihikoShiroyama?rel=author"><span class="fn">Fumihiko Shiroyama</span></a></span>
  

 - 
        








  


<time datetime="2014-10-03T21:16:29+09:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2014</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/android/'>Android</a>, <a class='category' href='/blog/categories/rubymotion/'>RubyMotion</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.rubymotion.com/" title="RubyMotion">RubyMotion</a> のバージョンが 3.1 になり、Android 版でカスタム Application クラスが利用できるようになった。</p>

<p>実を言うとこれまでは独自定義の Android クラスを利用することが出来なかったのだが、その旨 RubyMotion のサポートで質問したところ、作者の Laurent さんが一瞬で対応してくれたのだ。<strong>なんてCOOLなんだ！みんなも RubyMotion を買おう！</strong></p>

<p>独自 Application クラスの使い方を簡単に紹介しておく。RubyMotion for Android の入門に関しては前回書いた<a href="http://blog.shiroyama.us/blog/2014/09/20/rubymotion-for-android/" title="RubyMotion for Android を使ってみる">拙エントリ</a>を参考にして欲しい。</p>

<h4>1) RubyMotion を更新</h4>

<p>以下のコマンドで更新。<code>--pre</code> を忘れないようにしよう</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>% sudo motion update --pre
</span><span class='line'>
</span><span class='line'>Password:
</span><span class='line'>Connecting to the server...
</span><span class='line'>Downloading software update...
</span><span class='line'><span class="c">######################################################################## 100.0%</span>
</span><span class='line'>Installing software update...
</span><span class='line'>RubyMotion pre-release update installed in /Library/RubyMotionPre
</span><span class='line'>
</span><span class='line'><span class="o">=</span> RubyMotion 3.1 <span class="o">=</span>
</span><span class='line'>
</span><span class='line'>  * Added the RUBYMOTION_VERSION and RUBYMOTION_ENV constants, which have the
</span><span class='line'>    same values as RubyMotion <span class="k">for </span>iOS / OS X.
</span><span class='line'>  * Added support <span class="k">for </span>the Android R class. Thanks to Mark Villacampa <span class="k">for </span>the
</span><span class='line'>    patch.
</span><span class='line'>  * Added the <span class="sb">`</span>app.application_class<span class="s1">&#39; setting, which can be used to specify</span>
</span><span class='line'><span class="s1">    the name of a custom Android::App::Application subclass that should be used</span>
</span><span class='line'><span class="s1">    by the application. By default, the variable has a nil value, which means</span>
</span><span class='line'><span class="s1">    a default class will be used.</span>
</span><span class='line'><span class="s1">  * Improved app versioning. `app.api_version&#39;</span> will now map to the
</span><span class='line'>    <span class="sb">`</span>minSdkVersion<span class="s1">&#39; manifest attribute. Added `app.target_api_version&#39;</span> which
</span><span class='line'>    will map to <span class="sb">`</span>targetSdkVersion<span class="s1">&#39;. Both settings will have the latest API</span>
</span><span class='line'><span class="s1">    version as the default value, except for 20 (L). We recommend that you</span>
</span><span class='line'><span class="s1">    leave `app.target_api_version&#39;</span> intact and only modify <span class="sb">`</span>app.api_version<span class="s1">&#39;.</span>
</span><span class='line'><span class="s1">  * Improved the REPL so that &quot;self&quot; now always points to the current app</span>
</span><span class='line'><span class="s1">    activity. (Only works for API 14 or above.)</span>
</span><span class='line'><span class="s1">  * Added support for `&amp;foo&#39;</span> constructs <span class="o">(</span>which should dispatch <span class="c">#to_proc).</span>
</span><span class='line'>  * Added Symbol#to_proc.
</span><span class='line'>  * Fixed a bug where <span class="sb">`</span>app.vendor_project<span class="s1">&#39; would generate a .bridgesupport</span>
</span><span class='line'><span class="s1">    file containing illegal XML characters (such as &#39;</span>&lt;<span class="s1">&#39; or &#39;</span>&gt;<span class="s1">&#39;) inside</span>
</span><span class='line'><span class="s1">    attributes. Thanks to Mark Villacampa for the patch.</span>
</span><span class='line'><span class="s1">  * Fixed a bug where the dispatch of an overloaded Java method without</span>
</span><span class='line'><span class="s1">    arguments would fail. The runtime will now return the first method of the</span>
</span><span class='line'><span class="s1">    list (since we can&#39;</span>t match any argument<span class="o">)</span>.
</span><span class='line'>  * Fixed the <span class="sb">`</span>rake <span class="o">{</span>emulator,device<span class="o">}</span><span class="err">&#39;</span> tasks to terminate the application in
</span><span class='line'>    <span class="k">case </span>the user leaves the REPL session.
</span><span class='line'>  * Fixed a bug when dispatching certain methods using reflection <span class="o">(</span>REPL<span class="o">)</span> that
</span><span class='line'>    <span class="k">return </span>java.lang.Object.
</span><span class='line'>  * Fixed a bug in the compiler where a crash would happen when trying to
</span><span class='line'>    override a Java method accepting a Java array as argument.
</span><span class='line'>  * Fixed a bug in the dispatcher when yielding certain runtime-generated
</span><span class='line'>    blocks <span class="o">(</span>ex. enumerators<span class="o">)</span> where the <span class="k">return </span>value would be destroyed.
</span></code></pre></td></tr></table></div></figure>


<h4>2) カスタム Application クラスを準備</h4>

<p>Android 用のテンプレートを生成し、</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>% motion create --template<span class="o">=</span>android Hello
</span><span class='line'>% <span class="nb">cd</span> ./Hello
</span></code></pre></td></tr></table></div></figure>


<p>Android::App::Application クラスを継承した独自 Application クラスを定義する。</p>

<p>試しに onCreate(), onTerminate() でログを出すようにしてみた。<br/>
※ onTerminate() は<a href="http://developer.android.com/reference/android/app/Application.html#onTerminate()">実機では呼ばれない</a>ので注意。理解の便宜上書いてみた。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">% vim </span><span class="n">app</span><span class="o">/</span><span class="n">my_application</span><span class="o">.</span><span class="n">rb</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">MyApplication</span> <span class="o">&lt;</span> <span class="ss">Android</span><span class="p">:</span><span class="ss">:App</span><span class="o">::</span><span class="no">Application</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">onCreate</span><span class="p">()</span>
</span><span class='line'>    <span class="k">super</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Application#onCreate()&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># will never be called on a production Android device</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">onTerminate</span><span class="p">()</span>
</span><span class='line'>    <span class="k">super</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Application#onTTerminate()&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h4>3) Rakefile を修正</h4>

<p><code>app.application_class</code> に独自定義の Application クラスを指定</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sx">% vim </span><span class="no">Rakefile</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># -*- coding: utf-8 -*-</span>
</span><span class='line'><span class="vg">$:</span><span class="o">.</span><span class="n">unshift</span><span class="p">(</span><span class="s2">&quot;/Library/RubyMotionPre/lib&quot;</span><span class="p">)</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;motion/project/template/android&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="ss">Motion</span><span class="p">:</span><span class="ss">:Project</span><span class="o">::</span><span class="no">App</span><span class="o">.</span><span class="n">setup</span> <span class="k">do</span> <span class="o">|</span><span class="n">app</span><span class="o">|</span>
</span><span class='line'>  <span class="c1"># Use `rake config&#39; to see complete project settings.</span>
</span><span class='line'>  <span class="n">app</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Hello&#39;</span>
</span><span class='line'>  <span class="n">app</span><span class="o">.</span><span class="n">application_class</span> <span class="o">=</span> <span class="s1">&#39;MyApplication&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初どんなプロパティか分からなくて戸惑ったけど <code>/Library/RubyMotionPre/lib/motion/project/template/android.rb</code> みたらすぐ分かった。</p>

<h4>4) 確認</h4>

<p>確認してみよう！</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>% rake device
</span><span class='line'>
</span><span class='line'>    Create ./build/Development-19/classes.dex
</span><span class='line'>    Create ./build/Development-19/Hello.apk
</span><span class='line'>      Sign ./build/Development-19/Hello.apk
</span><span class='line'>     Align ./build/Development-19/Hello.apk
</span><span class='line'>   Install ./build/Development-19/Hello.apk
</span><span class='line'>4066 KB/s <span class="o">(</span>638813 bytes in 0.153s<span class="o">)</span>
</span><span class='line'>     Start com.yourcompany.hello/.MainActivity
</span><span class='line'>--------- beginning of /dev/log/main
</span><span class='line'>--------- beginning of /dev/log/system
</span><span class='line'>
</span><span class='line'>I/com/yourcompany/hello<span class="o">(</span>11394<span class="o">)</span>: Application#onCreate<span class="o">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>一番下の行に注目！Application の開始時に一度だけ出ている！</p>

<p>前述のとおり onTerminate() は実機では呼ばれないが仕様なので気にしないでください。</p>

<h3>まとめ</h3>

<p>独自 Application クラスを利用できるようになったことで実戦的なアプリ開発の可能性がグッと広がったように思う。<br/>
ライブラリの初期化とか、静的 Context 取得メソッドとか、アプリケーションライフサイクルで管理する Observer とか、実際の Android 開発では利用シーンに枚挙にいとまがない。</p>

<p>いよいよ次回は少し実戦的なアプリを実装して GitHub に上げてその記事を書こうと思う。それでは楽しい RubyMotion ライフを！</p>
</div>


  <footer>
    <p class="meta">
      
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+FumihikoShiroyama?rel=author"><span class="fn">Fumihiko Shiroyama</span></a></span>
  

 - 
      








  


<time datetime="2014-10-03T21:16:29+09:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2014</time> - 
      

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/android/'>Android</a>, <a class='category' href='/blog/categories/rubymotion/'>RubyMotion</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.shiroyama.us/blog/2014/10/03/rubymotion-android-custom-application-class/" data-via="fushiroyama" data-counturl="http://blog.shiroyama.us/blog/2014/10/03/rubymotion-android-custom-application-class/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    
      <a class="pull-left" href="/blog/2014/09/20/rubymotion-for-android/" title="Previous Post: RubyMotion for Android を使ってみる">&laquo; RubyMotion for Android を使ってみる</a>
    
    
  </footer>

</div>

        
      </article>
    </div>
  </div>
  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/blog/2014/10/03/rubymotion-android-custom-application-class/">RubyMotion for Android でカスタム Appliation クラスを利用する</a>
        </li>
      
        <li>
          <a href="/blog/2014/09/20/rubymotion-for-android/">RubyMotion for Android を使ってみる</a>
        </li>
      
        <li>
          <a href="/blog/2014/04/28/turned31/">恥ずかしながら31歳になりました</a>
        </li>
      
        <li>
          <a href="/blog/2014/03/18/deploygate/">Android エンジニアが DeployGate を知らないのは恥と心得よ</a>
        </li>
      
        <li>
          <a href="/blog/2014/02/26/octopress/">エンジニアのブログは Octopress が最適</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span3">
    

  </div>
  <div class="span4">
    
<h2>twitter</h2>
<a href="https://twitter.com/fushiroyama" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @fushiroyama</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div class="tweet" data-twitter-user="fushiroyama">
</div>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/srym/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>







<a href="http://twitter.com/fushiroyama" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>



<a href="https://plus.google.com/+FumihikoShiroyama?rel=author" rel="tooltip" title="Google Plus"><img class="social_icon" title="Google Plus" alt="Google Plus icon" src="/images/glyphicons_386_google_plus.png"></a>






  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">白山軟件有限公司</a>
  - Copyright &copy; 2014 - Fumihiko Shiroyama
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>




<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
